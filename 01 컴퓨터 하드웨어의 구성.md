# 01 컴퓨터 하드웨어의 구성

- 컴퓨터 시스템은 데이터를 처리하는 물리적인 하드웨어와 어떤 작업을 지시하는 명령어로 작성한 프로그램인 소프트웨어로 구성됨

- 운영체제는 컴퓨터 하드웨어를 관리하는 소프트웨어

- 컴퓨터 하드웨어는 크게 프로세서, 메모리(기억장치), 주변장치로 구성됨
  - 이들은 시스템 버스로 연결되어있음

<figure style="display:block; text-align:center;">
    <img src="C:\Users\user\Desktop\GIT_WORK\img\그림으로 배우는 구조와 원리 운영체제\Chapter1\그림 1-1 컴퓨터 하드웨어의 구성.jpg" alt="그림 1-1 컴퓨터 하드웨어의 구성" style="border:1px; border-style: solid; zoom:40%;"/>
    <figcaption style="text-align:center; font-weight:bold; font-size:80%;">그림 1-1 컴퓨터 하드웨어의 구성</figcaption>
</figure>



## 1. 프로세서

- 프로세서는 컴퓨터 하드웨어에 부착한 모든 장치의 동작을 제어하고 명령을 실행함
  - 중앙처리장치(CPU: Central Processing Unit)라고도 함
- 연산장치와 제어장치, 레지스터로 구성
  - 이들은 내부 버스로 연결됨

<figure style="display:block; text-align:center;">
    <img src="C:\Users\user\Desktop\GIT_WORK\img\그림으로 배우는 구조와 원리 운영체제\Chapter1\그림 1-2 프로세서의 구성.jpg" alt="그림 1-2 프로세서의 구성" style="border:1px; border-style: solid; zoom:40%;"/>
    <figcaption style="text-align:center; font-weight:bold; font-size:80%;">그림 1-2 프로세서의 구성</figcaption>
</figure>

* 레지스터는 용도에 따라 전용 레지스터와 범용 레지스터로 구분할 수 있음
  * 사용자가 정보를 변경할 수 있다면 사용자 가시(user-visible) 레지스터
    * 사용자 가시 레지스터는 사용자가 운영체제와 사용자 프로그램을 이용하여 정보를 변경할 수 있는 레지스터
  * 사용자가 정보를 변경할 수 없다면 사용자 불가시(user-invisible) 레지스터
* 저장하는 정보의 종류에 따라 데이터 레지스터,주소 레지스터, 상태 레지스터 등으로 세분화할 수 있음



표 1-1 사용자 가시 레지스터

|                  종류                   |                             설명                             |
| :-------------------------------------: | :----------------------------------------------------------: |
|  데이터 레지스터<br/>DR, Data Register  | 함수 연산에 필요한 데이터를 저장한다. 값, 문자 등을 저장하므로 산술연산이나 논리 연산에 사용하며, 연산 결과로 플래그 값을 저장한다. |
| 주소 레지스터<br />AR, Address Register | 주소나 유효 주소를 계산하는 데 필요한 주소의 일부분을 저장한다. 주소 레지스터에 저장한 값(값 데이터)을 사용하여 산술 연산을 할 수 있다. |

- 주소 레지스터 종류
  - 기준 주소 레지스터: 프로그램을 실행할 때 사용하는 기준 주소 값을 저장한다. 페이지나 세그먼트처럼 블록화된 정보에 접근하는 데 사용한다.
  - 인덱스 레지스터: 유효 주소를 계산하는 데 사용하는 주소 정보를 저장한다.
  - 스택 포인터 레지스터: 메모리에 프로세서 스택을 구현하는 데 사용한다. 스택이나 큐 포인터를 사용한다.



- 사용자 불가시 레지스터는 사용자가 정보를 변경할 수 없는 레지스터

|                         종류                          |                             설명                             |
| :---------------------------------------------------: | :----------------------------------------------------------: |
|        프로그램 카운터<br/>PC, Program Counter        |     다음에 실행할 명령어의 주소를 보관하는 레지스터이다.     |
|     명령어 레지스터<br/>IR, Instruction Register      |        현재 실행하는 명령어를 보관하는 레지스터이다.         |
|              누산기<br/>ACC, ACCumulator              |          데이터를 일시적으로 저장하는 레지스터이다.          |
| 메모리 주소 레지스터<br/>MAR, Memory Address Register | 프로세서가 참조하려는 데이터의 주소를 명시하여 메모리에 접근하는 버퍼 레지스터이다. |
| 메모리 버퍼 레지스터<br/>MBR, Memory Buffer Register  | 프로세서가 메모리에서 읽거나 메모리에 저장할 데이터 자체를 보관하는 버퍼 레지스터이다. |



<figure style="display:block; text-align:center;">
    <img src="C:\Users\user\Desktop\GIT_WORK\img\그림으로 배우는 구조와 원리 운영체제\Chapter1\그림 1-3 프로세서의 기본 레지스터.jpg" alt="그림 1-3 프로세서의 기본 레지스터" style="border:1px; border-style: solid; zoom:40%;"/>
    <figcaption style="text-align:center; font-weight:bold; font-size:80%;">그림 1-3 프로세서의 기본 레지스터</figcaption>
</figure>



# 2. 메모리

* 메모리는 컴퓨터 성능과 밀접
* 메모리 계층 구조를 구성하여 비용, 속도, 용량, 접근시간 등을 상호 보완함
* 메모리 계층 구조는 1950~1960년대 너무 비싼 메인 메모리의 가격 문제 때문에 제안한 방법
* 이 방법은 비용, 속도, 크기(용량)가 다른 메모리를 효과적으로 사용함으로써 시스템의 성능을 향상시킴
* 불필요한 프로그램과 데이터는 보조기억장치에 저장했다가 실행 및 참조할 때만 메인 메모리로 옮기는 원리를 적용한 방법

<figure style="display:block; text-align:center;">
    <img src="C:\Users\user\Desktop\GIT_WORK\img\그림으로 배우는 구조와 원리 운영체제\Chapter1\그림 1-4 메모리 계층 구조.jpg" alt="그림 1-4 메모리 계층 구조" style="border:1px; border-style: solid; zoom:40%;"/>
    <figcaption style="text-align:center; font-weight:bold; font-size:80%;">그림 1-4 메모리 계층 구조</figcaption>
</figure>



## 2.1. 레지스터

* 프로세서 내부에 있으며, 프로세서가 사용할 데이터를 보관하는 가장 빠른 메모리



## 2.2. 메인 메모리

* 프로세서 외부에 있으며, 프로세서에서 즉각적으로 수행할 프로그램과 데이터를 저장
* 프로세서에서 처리한 결과를 저장
* 주기억장치 또는 기억장치라고도 함

<figure style="display:block; text-align:center;">
    <img src="C:\Users\user\Desktop\GIT_WORK\img\그림으로 배우는 구조와 원리 운영체제\Chapter1\그림 1-5 메인 메모리의 역할 1.jpg" alt="그림 1-5 메인 메모리의 역할 1" style="border:1px; border-style: solid; zoom:40%;"/>
    <figcaption style="text-align:center; font-weight:bold; font-size:80%;">그림 1-5 메인 메모리의 역할 1</figcaption>
</figure>

* 메인 메모리는 다수의 셀(cell)로 구성되며, 각 셀은 비트(bit)로 구성
* 셀이 K비트이면 셀에 2^k 값을 저장할 수 있음
* 메인 메모리에 데이터를 저장할 때는 셀 한 개나 여러 개에 나눠서 저장
* 셀은 주소로 참조하는데, n비트라면 주소 범위는 0 ~ (2^n)-1

<figure style="display:block; text-align:center;">
    <img src="C:\Users\user\Desktop\GIT_WORK\img\그림으로 배우는 구조와 원리 운영체제\Chapter1\그림 1-6 메인 메모리의 주소 지정.jpg" alt="그림 1-6 메인 메모리의 주소 지정" style="border:1px; border-style: solid; zoom:40%;"/>
    <figcaption style="text-align:center; font-weight:bold; font-size:80%;">그림 1-6 메인 메모리의 주소 지정</figcaption>
</figure>

* 컴퓨터에 주어진 주소를 물리적 주소라고 하며, 프로그래머는 물리적 주소 대신 수식이나 변수를 사용
* 컴파일러가 프로그램을 기계 명령어로 변환할 때 변수와 명령어에 주소를 할당하는데, 이 주소를 논리적 주소(가상 주소, 프로그램 주소)라고 함
* 컴파일로 논리적 주소를 물리적 주소로 변환, 이 과정을 매핑(mapping: 사상) 또는 메모리(memory map)이라고 함

